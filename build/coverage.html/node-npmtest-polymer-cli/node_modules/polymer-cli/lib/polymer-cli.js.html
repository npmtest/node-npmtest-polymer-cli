<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-polymer-cli/node_modules/polymer-cli/lib/polymer-cli.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-polymer-cli">npmtest-polymer-cli (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-polymer-cli/node_modules/polymer-cli/lib/polymer-cli.js</span></h1>
    <h2>
        
        Statements: <span class="metric">15% <small>(15 / 100)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 40)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">15% <small>(15 / 100)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-polymer-cli/node_modules/polymer-cli/lib/</a> &#187; polymer-cli.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @license
 * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
"use strict";
const logging = require('plylog');
const commandLineArgs = require('command-line-args');
const commandLineCommands = require('command-line-commands');
const args_1 = require('./args');
const build_1 = require('./commands/build');
const help_1 = require('./commands/help');
const init_1 = require('./commands/init');
const lint_1 = require('./commands/lint');
const serve_1 = require('./commands/serve');
const test_1 = require('./commands/test');
const project_config_1 = require('./project-config');
const logger = logging.getLogger('cli.main');
process.on('uncaughtException', (error) =&gt; {
<span class="cstat-no" title="statement not covered" >    logger.error(`Uncaught exception: ${error}`);</span>
<span class="cstat-no" title="statement not covered" >    if (error.stack)</span>
<span class="cstat-no" title="statement not covered" >        logger.error(error.stack);</span>
<span class="cstat-no" title="statement not covered" >    process.exit(1);</span>
});
process.on('unhandledRejection', (error) =&gt; {
<span class="cstat-no" title="statement not covered" >    logger.error(`Promise rejection: ${error}`);</span>
<span class="cstat-no" title="statement not covered" >    if (error.stack)</span>
<span class="cstat-no" title="statement not covered" >        logger.error(error.stack);</span>
<span class="cstat-no" title="statement not covered" >    process.exit(1);</span>
});
class PolymerCli {
    constructor<span class="fstat-no" title="function not covered" >(args, config) {</span>
<span class="cstat-no" title="statement not covered" >        this.commands = new Map();</span>
        // If the "--quiet"/"-q" flag is ever present, set our global logging
        // to quiet mode. Also set the level on the logger we've already created.
<span class="cstat-no" title="statement not covered" >        if (args.indexOf('--quiet') &gt; -1 || args.indexOf('-q') &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >            logging.setQuiet();</span>
        }
        // If the "--verbose"/"-v" flag is ever present, set our global logging
        // to verbose mode. Also set the level on the logger we've already created.
<span class="cstat-no" title="statement not covered" >        if (args.indexOf('--verbose') &gt; -1 || args.indexOf('-v') &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >            logging.setVerbose();</span>
        }
<span class="cstat-no" title="statement not covered" >        this.args = args;</span>
<span class="cstat-no" title="statement not covered" >        logger.debug('got args:', { args: args });</span>
<span class="cstat-no" title="statement not covered" >        if (config) {</span>
<span class="cstat-no" title="statement not covered" >            this.defaultConfig = config;</span>
<span class="cstat-no" title="statement not covered" >            logger.debug('got default config from constructor argument:', { config: this.defaultConfig });</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            this.defaultConfig = project_config_1.ProjectConfig.fromConfigFile('polymer.json');</span>
<span class="cstat-no" title="statement not covered" >            logger.debug('got default config from file:', { config: this.defaultConfig });</span>
        }
<span class="cstat-no" title="statement not covered" >        this.addCommand(new build_1.BuildCommand());</span>
<span class="cstat-no" title="statement not covered" >        this.addCommand(new help_1.HelpCommand(this.commands));</span>
<span class="cstat-no" title="statement not covered" >        this.addCommand(new init_1.InitCommand());</span>
<span class="cstat-no" title="statement not covered" >        this.addCommand(new lint_1.LintCommand());</span>
<span class="cstat-no" title="statement not covered" >        this.addCommand(new serve_1.ServeCommand());</span>
<span class="cstat-no" title="statement not covered" >        this.addCommand(new test_1.TestCommand());</span>
    }
    addCommand<span class="fstat-no" title="function not covered" >(command) {</span>
<span class="cstat-no" title="statement not covered" >        logger.debug('adding command', command.name);</span>
<span class="cstat-no" title="statement not covered" >        this.commands.set(command.name, command);</span>
    }
    mergeDefinitions<span class="fstat-no" title="function not covered" >(command, globals) {</span>
<span class="cstat-no" title="statement not covered" >        let mergedArgs = new Map();</span>
<span class="cstat-no" title="statement not covered" >        let defaultOption = null;</span>
<span class="cstat-no" title="statement not covered" >        let addAll = (args) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            for (let definition of args) {</span>
<span class="cstat-no" title="statement not covered" >                let name = definition.name;</span>
<span class="cstat-no" title="statement not covered" >                let oldDefinition = mergedArgs.get(name);</span>
<span class="cstat-no" title="statement not covered" >                if (oldDefinition == null) {</span>
<span class="cstat-no" title="statement not covered" >                    mergedArgs.set(definition.name, definition);</span>
                }
                else {
<span class="cstat-no" title="statement not covered" >                    let mergedDefinition = Object.assign({}, oldDefinition);</span>
<span class="cstat-no" title="statement not covered" >                    for (let propName of Object.keys(definition)) {</span>
<span class="cstat-no" title="statement not covered" >                        if (propName === 'name')</span>
<span class="cstat-no" title="statement not covered" >                            continue;</span>
<span class="cstat-no" title="statement not covered" >                        let propValue = definition[propName];</span>
<span class="cstat-no" title="statement not covered" >                        let oldProp = oldDefinition[propName];</span>
<span class="cstat-no" title="statement not covered" >                        if (oldProp == null) {</span>
<span class="cstat-no" title="statement not covered" >                            mergedDefinition[propName] = propValue;</span>
                        }
                        else {
<span class="cstat-no" title="statement not covered" >                            throw new Error(`duplicate argument definition in ${command.name}: ${name}.${propName}`);</span>
                        }
                    }
<span class="cstat-no" title="statement not covered" >                    mergedArgs.set(name, mergedDefinition);</span>
<span class="cstat-no" title="statement not covered" >                    definition = mergedDefinition;</span>
                }
<span class="cstat-no" title="statement not covered" >                if (definition.defaultOption) {</span>
<span class="cstat-no" title="statement not covered" >                    if (defaultOption &amp;&amp; defaultOption !== name) {</span>
<span class="cstat-no" title="statement not covered" >                        throw new Error(`Multiple default arguments in ${command.name}: ` +</span>
                            `${defaultOption} and ${name}`);
                    }
<span class="cstat-no" title="statement not covered" >                    defaultOption = name;</span>
                }
            }
        };
<span class="cstat-no" title="statement not covered" >        if (globals)</span>
<span class="cstat-no" title="statement not covered" >            addAll(globals);</span>
<span class="cstat-no" title="statement not covered" >        if (command.args)</span>
<span class="cstat-no" title="statement not covered" >            addAll(command.args);</span>
<span class="cstat-no" title="statement not covered" >        return Array.from(mergedArgs.values());</span>
    }
    run<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >        let helpCommand = this.commands.get('help');</span>
<span class="cstat-no" title="statement not covered" >        let commandNames = Array.from(this.commands.keys());</span>
<span class="cstat-no" title="statement not covered" >        let parsedArgs;</span>
<span class="cstat-no" title="statement not covered" >        logger.debug('running...');</span>
        // If the "--version" flag is ever present, just print
        // the current version. Useful for globally installed CLIs.
<span class="cstat-no" title="statement not covered" >        if (this.args.indexOf('--version') &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >            console.log(require('../package.json').version);</span>
<span class="cstat-no" title="statement not covered" >            return Promise.resolve();</span>
        }
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            parsedArgs = commandLineCommands(commandNames, this.args);</span>
        }
        catch (error) {
            // Polymer CLI needs a valid command name to do anything. If the given
            // command is invalid, run the generalized help command with default
            // config. This should print the general usage information.
<span class="cstat-no" title="statement not covered" >            if (error.name === 'INVALID_COMMAND') {</span>
<span class="cstat-no" title="statement not covered" >                if (error.command) {</span>
<span class="cstat-no" title="statement not covered" >                    logger.warn(`'${error.command}' is not an available command.`);</span>
                }
<span class="cstat-no" title="statement not covered" >                return helpCommand.run({ command: error.command }, new project_config_1.ProjectConfig(this.defaultConfig));</span>
            }
            // If an unexpected error occurred, propagate it
<span class="cstat-no" title="statement not covered" >            throw error;</span>
        }
<span class="cstat-no" title="statement not covered" >        let commandName = parsedArgs.command;</span>
<span class="cstat-no" title="statement not covered" >        let commandArgs = parsedArgs.argv;</span>
<span class="cstat-no" title="statement not covered" >        let command = this.commands.get(commandName);</span>
<span class="cstat-no" title="statement not covered" >        logger.debug(`command '${commandName}' found, parsing command args:`, { args: commandArgs });</span>
<span class="cstat-no" title="statement not covered" >        let commandDefinitions = this.mergeDefinitions(command, args_1.globalArguments);</span>
<span class="cstat-no" title="statement not covered" >        let commandOptionsRaw = commandLineArgs(commandDefinitions, commandArgs);</span>
<span class="cstat-no" title="statement not covered" >        let commandOptions = (commandOptionsRaw &amp;&amp; commandOptionsRaw['_all']);</span>
<span class="cstat-no" title="statement not covered" >        logger.debug(`command options parsed from args:`, commandOptions);</span>
<span class="cstat-no" title="statement not covered" >        let config = new project_config_1.ProjectConfig(this.defaultConfig, commandOptions);</span>
<span class="cstat-no" title="statement not covered" >        logger.debug(`final project configuration generated:`, config);</span>
        // Help is a special argument for displaying help for the given command.
        // If found, run the help command instead, with the given command name as
        // an option.
<span class="cstat-no" title="statement not covered" >        if (commandOptions['help']) {</span>
<span class="cstat-no" title="statement not covered" >            logger.debug(`'--help' option found, running 'help' for given command...`);</span>
<span class="cstat-no" title="statement not covered" >            return helpCommand.run({ command: commandName }, config);</span>
        }
<span class="cstat-no" title="statement not covered" >        logger.debug('Running command...');</span>
<span class="cstat-no" title="statement not covered" >        return command.run(commandOptions, config);</span>
    }
}
exports.PolymerCli = PolymerCli;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 00:25:34 GMT+0000 (UTC)</div>
</div>
</body>
</html>
